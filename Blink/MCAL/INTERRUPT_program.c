/**********************************************************************************************************************
 *  FILE DESCRIPTION
 *  -----------------------------------------------------------------------------------------------------------------*/
/*   FILE NAME					:  INTERRUPT_program.c
 *   BRIEF DESCRIPTION	:  Implementation of INTERRUPT_interface.h
 *   AUTHOR							:  Yasser Waleed 
 *********************************************************************************************************************/
/**********************************************************************************************************************
 *  INCLUDES
 *********************************************************************************************************************/
#include "TM4C123GH6PM.h"
#include "INTERRUPT_interface.h"
#include "../Library/stdtypes.h"
/**********************************************************************************************************************
*  LOCAL MACROS CONSTANT\FUNCTION
*********************************************************************************************************************/
#define NVIC_SET_EN0          0xE000E100
#define APINT									0xE000ED0C
#define PRIGROUP							8
#define VECTKEY								16
#define APINT_WRITE_EN				(0x05FA << VECTKEY)

#define SYSPRI3      					0xE000ED20
#define TICK_BIT              29
/**********************************************************************************************************************
 *  GLOBAL FUNCTIONS
 *********************************************************************************************************************/
void INTERRUPT_Init(void)
{
	SysTick->CTRL |= 2;	// Enable interrupt (bit 1)
	
	(*((volatile u32*)(SYSPRI3))) &= 0x1FFFFFFF;     //clear bits 31:29
	(*((volatile u32*)(SYSPRI3))) |= (1<<TICK_BIT);	 //Set SysTick Exception Priority to 0
}
/**********************************************************************************************************************
 *  END OF FILE: INTERRUPT_program.c
 *********************************************************************************************************************/
